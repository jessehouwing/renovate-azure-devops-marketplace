{
    "id": "ccbd79fd-88a5-453d-8fb9-56c69b3a643f",
    "name": "TriggerNewBuild",
    "friendlyName": "Trigger New Build",
    "description": "Trigger a new Build",
    "helpMarkDown": "",
    "category": "Build",
    "author": "Jihed Mhadhbi",
    "version": {
        "Major": 0,
        "Minor": 0,
        "Patch": 30
    },
    "instanceNameFormat": "Trigger new Build for $(buildDefinition)",
    "inputs": [
        {
            "name": "connection",
            "type": "connectedService:vstsTfsApi",
            "label": "VSTS/TFS api connection",
            "defaultValue": "",
            "required": true,
            "helpMarkDown": "VSTS api connection"
        },
        {
            "name": "project",
            "type": "pickList",
            "label": "Project",
            "defaultValue": "",
            "required": true,
            "helpMarkDown": "Select the name of the team project.",
            "properties": {
                "EditableOptions": "True"
            }
        },
        {
            "name": "buildDefinition",
            "type": "pickList",
            "label": "Build Definition",
            "defaultValue": "",
            "required": true,
            "helpMarkDown": "Select the name of the Build.",
            "properties": {
                "EditableOptions": "True"
            }
        }
    ],
    "dataSourceBindings": [
        {
            "target": "project",
            "endpointId": "$(connection)",
            "dataSourceName": "projects",
            "resultTemplate": "{ \"Value\" : \"{{{id}}}\", \"DisplayValue\" : \"{{{name}}}\" }"
        },
        {
            "target": "buildDefinition",
            "endpointId": "$(connection)",
            "dataSourceName": "buildDefinitions",
            "parameters": {
                "project": "$(project)"
            },
            "resultTemplate": "{ \"Value\" : \"{{{id}}}\", \"DisplayValue\" : \"{{{name}}}\" }"
        }
    ],
    "execution": {
        "Node": {
            "target": "index.js"
        }
    },
    "messages": {
        "couldNotLocateEndPoint":"Could not locate the endPoint : %s",
        "couldNotFindServerUrl":"Could not find the server url.",
        "authorizationSchemeNotSupported":"The authorization scheme %s is not supported for this endPoint."
    }
}